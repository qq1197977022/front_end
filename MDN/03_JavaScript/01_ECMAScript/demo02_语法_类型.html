<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>语法_类型</title>
</head>
<body>

</body>
</html>


<!--
一.基础

    1.JS从Java中借鉴了大部分语法,这也是从LiveScript更名为JavaScript的原因;也受到Awk, Perl, Python的影响
    2.区分大小写,使用Unicode字符集
    3.More
        1.JS中指令称为语句,以分号分隔
        2.空格, 制表符, 换行符称为空白字符
        3.源文件从左到右扫描,并转换为由tokens(不可分隔的词法单位), 控制字符, 行终止符, 注释或空白符组成的输入元素序列
        4.ECMAScript还定义某些关键字和字面量, 规定了如何自动插入分号以结束语句, 但最好手动随时添加分号来结束语句,以避免出错
***************************************************************************************************************************************************************************

二.注释
    1.行注释: //
    2.(多行)块注释: /**/
***************************************************************************************************************************************************************************

三.声明
    1.3中声明
        1.var: 声明全局和局部变量
        2.let: 声明块作用域局部变量
        3.const: 声明块作用域只读变量(即常量)
            1.const声明创建一个值的只读引用,但它所持有的值依然可变(eg.引用内容是对象时), 不可变指的是变量标识符不能重新分配

    2.变量
        1.作用: 作为值的符号
        2.变量名又叫标识符,遵守一定规则

    3.声明变量
        1.全局变量
            1.var
            2.直接赋值(隐式声明): eg.v = 3, 但在严格模式下回产ReferenceError
        2.局部变量
            1.var
            2.let
    4.变量求值
        1.var/let声明的变量默认初始值为undefined
            1.自动类型转换
                                布尔类型环境        数值类型环境
                undefined           false              NaN
                null                false               0
-->
<script>
    console.log('------------------------------------变量作用域------------');
    /*
    5.变量作用域
        1.局部变量: 函数内变量
        2.全局变量: 函数外变量
        3.Note
            1.JS<ES6版本(即ECMAScript 2015),没有语句块概念, 即语句块中声明的变量将成为语句块所在环境中的变量
     */
    fun1();
    function fun1() {
        if (3 > 2) {
            var v = 5;    //因为当前版本<ES6, v是if语句块所在函数fun1的局部变量
        }
        console.log(v);
    }
</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------变量声明提升------------');
    /*
    6.变量声明提升
        1.可以在声明变量前引用变量 ~ 给人的感觉就像是变量被提升到了前边
        2.Note
            1.提升后变量值为undefined
            2.ES6中let, const声明的变/常量不会被提升
            3.原理
                1.var声明的变量为全局变量, 即在全局命名空间
                    console.log(v);
                    var v = 3;

                    相当于

                    var v;
                    console.log(v); //访问全局变量时, v还没有初始化, 默认初始值化为undefined
                    v = 3;

                    function声明的函数为什么提升访问和正常升访问效果一致?
                        function fun() {}
                        1.function声明函数, 函数名和函数对象绑定, 没有像变量undefined这样的所谓默认初始化值, 初始化直接指向函数对象
     */
    console.log(v);
    var v = 3;
</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------函数声明提升------------');
    /*
    7.函数声明提升
        1.function声明的函数可以提升, 匿名函数不会提升
     */
    fun1();
    function fun1() {
        console.log('函数声明提升');
    }

    // fun2();
    // fun2 = function () {
    //     console.log('------------'------------'------------匿名函数不会提升');
    // }
//---------------------------------------------------------------------------------------------------
</script>
   <!--
    8.全局变量
        1.全局变量实际上会以全局对象的属性的形式存在
            1.网页全局对象是window, 所以可以以window.variable的形式访问全局变量
            2.可以通过指定window 或 frame的名字,实现window 或 frame间变量互访
//---------------------------------------------------------------------------------------------------
   -->
    <!--
    9.常量
        1.const声明只读变量 ~ 即常量
    -->

<!--
***************************************************************************************************************************************************************************

四.数据结构和类型
    1.数据类型
        1.6种原始类型 ~ 原型
            1.Boolean
            2.null
            3.undefined
            4.Number
            5.String
            6.Symbol: ES6新增,其实例唯一且不可变
        2.Object
            1.在MDN单击查看Lear more ~ https://developer.mozilla.org/en-US/docs/Glossary/Object
-->
<script>
    console.log('------------------------------------数据类型转换------------');
    /*
    2.数据类型转换
        1.JS是动态类型语言
            1.声明变量时不用指定类型
            2.同一变量名(标识符)可以和不同类型值绑定 ~ 自动转换
     */
        var v1 = 34;    console.log(v1, typeof v1);
        v1 = '34';      console.log(v1, typeof v1);

        /*
        2.String和Number类型转换
            1.String + Number   Number ---> String
            2.String - Number   String ---> Number
         */
        var str1 = '12';
        var num1 = 2;

        var str2 = str1 + num1;     console.log(str2, typeof str2);
        var num2 = str1 - num1;     console.log(num2, typeof num2);
</script>
<script>
    //---------------------------------------------------------------------------------------------------
    console.log('------------------------------------字符串转数值------------');
    /*
     3.字符串转数值
        1.全局函数
            1.parseInt()
            2.parseFloat()
        2.单目运算符
     */
    var str1 = '123';
    var str2 = '12.3';

    var num1 = parseInt(str1);      console.log(num1, typeof num1);
    var num2 = parseFloat(str2);    console.log(num2, typeof num2);

    var num3 = +str1;       console.log(num3, typeof num3);
    var num4 = +str2;       console.log(num4, typeof num4);

    var num5 = -str1;       console.log(num5, typeof num5);
    var num6 = -str2;       console.log(num6, typeof num6);
</script>
<!--
***************************************************************************************************************************************************************************
五.字面常量: 特定类型常量符号
-->
<script>
    console.log('------------------------------------数组字面------------');
    /*
    1.数组字面
        1.Note
            1.数组对象也是一种对象初始化容器
            2.数组字面也是数组对象
        2.未初始化元素默认值为undefined
        3.末尾逗号在旧版浏览器会报错,新版浏览器会忽略
     */
    var arr1 = ['A', 'B', 'C'];
    console.log(arr1, arr1.length, typeof arr1);     //数组字面也是数组对象


    var arr2 = [1, , 3, 4];
    console.log(arr2, arr2.length, arr2[1]);
</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------布尔字面------------');
    /*
    2.布尔字面
        1.字面量true, false
        2.布尔对象是原始布尔数据类型的包装器
    */
    var b1 = true;      console.log(b1);
    var b2 = false;     console.log(b2);

</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------整数字面------------');
    /*
    3.整数字面
        1.整数表示方式
            1.十进制
            2.十六进制
            3.八进制   ~   严格模式下,八进制只能以0o/0O开头,而不能以0开头
            4.二进制
     */
    var num1 = 9;       console.log(num1, typeof num1);
    var num2 = 0x9;     console.log(num2, typeof num2);
    // var num3 = 0o10;    //JS<ES6不支持
    // var num4 = 0b111;
</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------浮点数字面------------');
    /*
    4.浮点数字面
        1.语法格式: [(+|-)][digits][.digits][(E|e)[(+|-)]digits]
     */
    var f1 = 3.14;      console.log(f1, typeof f1);
    var f2 = .14;       console.log(f2, typeof f2);
    var f3 = -.14;      console.log(f3, typeof f3);
    var f4 = .1e8;      console.log(f4, typeof f4);
    var f5 = 8.E-3;     console.log(f5, typeof f5);
</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------Object字面------------');
    /*
    5.Object字面
        1.如果属性名不是合法标识符,必须以字符串 or 数字的形式存在
        2.非法属性名不能用obj.xxx语法访问, 只能用obj[xxx]形式访问
     */
    var sales = '路虎';

    /**@returns String*/    //消除警告
    function CarTypes(name) {
        return (name === '广汽') ? name : "Sorry, we don't sell" + name + '.';
    }

    var carObj1 = {    //属性名为合法标识符
        myCar: '金杯',
        getCar: CarTypes('广汽'),
        special: sales
    };
    console.log(carObj1.myCar);
    console.log(carObj1.getCar);
    console.log(carObj1.special);


    var carObj2 = {    //属性名可以是字符串 or 数字
        'myCars': {a: '路虎', 2: 'Jeep'}
    };
    console.log(carObj2.myCars, carObj2['myCars']);     //等价
    console.log(carObj2.myCars.a, carObj2['myCars'].a);     //等价


    var carObj3 = {     //属性名是非法标识符,必须以字符串形式存在
        '': '吉利',
        '!': '帝豪'
    };
    console.log(carObj3['']);
    console.log(carObj3['!']);
</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------增强Object字面------------');
    /*
    6.增强Object字面
        1.ES6扩展Object字面支持在创建时设置原型
            1.简写foo : foo形式属性赋值
            2.方法定义,支持父类方法调用
            3.表达式动态计算属性名
        2.这些扩展使对象字面和类声明联系更紧密, 让基于对象的设计从这些便利中更受益
     */
    var obj1 = {
        name: '杨一帆',

        //'handler: handler'简写
        /*h,*/

        //方法定义简写
        /*toString() {
            //调用父类方法
            return 'd ' + super.toString();
        },*/
        // [ 'prop_' + (() => 42)() ]: 42

        age: 18
    };
</script>
<!--

-->
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------RegExp字面------------');
    /*
    7.RegExp字面
        1.正则表达式语法格式: /.../
            eg. var re = /ab+c/;
    */
    var re = /ab+c/;
    console.log(re, re == 'ab+c', re === 'ab+c');
</script>
<script>
//---------------------------------------------------------------------------------------------------
    console.log('------------------------------------字符串字面------------');
    /*
    8.字符串字面
        1.JS<ES6版本
            1.单/双引号定界
            2.可以在字符串字面值上使用字符串对象的方法和属性 ~~~ JS会将字符串字面值转换为一个临时字符串对象,随即销毁
            3.多行字符串
                1.显式行连接: \  ~ 不能加注释
                2.字符串链接: +
        2.ES6版本
            1.ES6新增模板字符串字面, 提供语法糖来构造字符串
                1.多行字符串
                2.字符串插值
                3.自定义解析: 在模板字符串字面前添加tag来自定义解析过程,以防止注入攻击
                4.建立基于字符串的高级类型
        3.Note
            1.除非必须使用字符串对象, 否则应始终使用字符串字面值
     */
    var str1 = '123456';
    console.log(str1.length);
    console.log(str1.charAt(1));

    var str2 = '字符串' +      //字符串连接
        '连接';
    //显示行连接
    var str3 = '显式 \
        行连接';
    console.log(str2);
    console.log(str3);


    /*//基本模板字符串字面
    var str2 = `In JavaScript '\n' is a line-feed.`;

    //多行字符串
    var str3 = `
        In JavaScript
        this is
        not legal.`;

    //字符串插值
    var name = '杨一帆', age = 18;
    var str4 = `My name is ${name}, I'm ${age} years old`;

    //添加 tag 自定义解析
    Post`http://foo.org/bar?a=${a}&b=${b}
         Content-Type: application/json
         X-Credentials: ${credentials}
         {'foo': ${foo},
          'bar': ${bar}}`(myOnReadyStateChangeHandler);*/
</script>
<!--
//---------------------------------------------------------------------------------------------------
    9.在字符串中使用特殊字符
        1.特殊字符
            1.\0    ~   Null字节
            2.\b    ~   退格符
            3.\f    ~   换页符
            ...
        2.Note: 严格模式下,不能使用八进制转义字符
-->
<script>
    var str = 'aaa \
    bbb';
    console.log(str);
</script>
<!--
//---------------------------------------------------------------------------------------------------
    10.转义字符
-->













































